---
layout: post
title: Queries inside queries
tags:
- Apache
- PHP
status: publish
type: post
published: true
meta:
  _edit_last: '1'
  dsq_thread_id: '377522188'
---
<img src="http://content.screencast.com/users/brianlmoon/folders/Jing/media/ce02b99e-a2b2-4005-a1f4-dc97bfc91c74/00000085.png" alt="Queries inside queries" />

<a href="http://brian.moonspot.net/">Brian Moon</a> whipped up the strip above after our conversation below.
<!-- http://twitter.com/JeremyKendall/status/90890167916830721 --> <style type='text/css'>.bbpBox90890167916830721 {background:url(http://a1.twimg.com/images/themes/theme9/bg.gif) #1A1B1F;padding:20px;} p.bbpTweet{background:#fff;padding:10px 12px 10px 12px;margin:0;min-height:48px;color:#000;font-size:18px !important;line-height:22px;-moz-border-radius:5px;-webkit-border-radius:5px} p.bbpTweet span.metadata{display:block;width:100%;clear:both;margin-top:8px;padding-top:12px;height:40px;border-top:1px solid #fff;border-top:1px solid #e6e6e6} p.bbpTweet span.metadata span.author{line-height:19px} p.bbpTweet span.metadata span.author img{float:left;margin:0 7px 0 0px;width:38px;height:38px} p.bbpTweet a:hover{text-decoration:underline}p.bbpTweet span.timestamp{font-size:12px;display:block}</style> <div class='bbpBox90890167916830721'><p class='bbpTweet'>Hmm. I wonder why there's a scheduled task that bounces Apache every three hours.  ON OUR PRODUCTION SERVER.  <a href="http://twitter.com/search?q=%23FML" title="#FML" class="tweet-url hashtag" rel="nofollow">#FML</a><span class='timestamp'><a title='Tue Jul 12 21:07:59 +0000 2011' href='http://twitter.com/JeremyKendall/status/90890167916830721'>less than a minute ago</a> via <a href="http://www.tweetdeck.com" rel="nofollow">TweetDeck</a> <a href='http://twitter.com/intent/favorite?tweet_id=90890167916830721'><img src='http://si0.twimg.com/images/dev/cms/intents/icons/favorite.png' /> Favorite</a> <a href='http://twitter.com/intent/retweet?tweet_id=90890167916830721'><img src='http://si0.twimg.com/images/dev/cms/intents/icons/retweet.png' /> Retweet</a> <a href='http://twitter.com/intent/tweet?in_reply_to=90890167916830721'><img src='http://si0.twimg.com/images/dev/cms/intents/icons/reply.png' /> Reply</a></span><span class='metadata'><span class='author'><a href='http://twitter.com/JeremyKendall'><img src='http://a1.twimg.com/profile_images/918725958/flat_cap_in_thought_normal.jpg' /></a><strong><a href='http://twitter.com/JeremyKendall'>Jeremy Kendall</a></strong><br/>JeremyKendall</span></span></p></div> <!-- end of tweet -->
<!-- http://twitter.com/brianlmoon/status/90890693597335552 --> <style type='text/css'>.bbpBox90890693597335552 {background:url(http://a0.twimg.com/images/themes/theme1/bg.png) #2E436C;padding:20px;} p.bbpTweet{background:#fff;padding:10px 12px 10px 12px;margin:0;min-height:48px;color:#000;font-size:18px !important;line-height:22px;-moz-border-radius:5px;-webkit-border-radius:5px} p.bbpTweet span.metadata{display:block;width:100%;clear:both;margin-top:8px;padding-top:12px;height:40px;border-top:1px solid #fff;border-top:1px solid #e6e6e6} p.bbpTweet span.metadata span.author{line-height:19px} p.bbpTweet span.metadata span.author img{float:left;margin:0 7px 0 0px;width:38px;height:38px} p.bbpTweet a:hover{text-decoration:underline}p.bbpTweet span.timestamp{font-size:12px;display:block}</style> <div class='bbpBox90890693597335552'><p class='bbpTweet'>@<a class="tweet-url username" href="http://twitter.com/JeremyKendall" rel="nofollow">JeremyKendall</a> I a guessing poor memory management in PHP + running too many children for the server's ability. Usual case. <a href="http://twitter.com/search?q=%23FML" title="#FML" class="tweet-url hashtag" rel="nofollow">#FML</a><span class='timestamp'><a title='Tue Jul 12 21:10:04 +0000 2011' href='http://twitter.com/brianlmoon/status/90890693597335552'>less than a minute ago</a> via <a href="http://www.nambu.com/" rel="nofollow">Nambu</a> <a href='http://twitter.com/intent/favorite?tweet_id=90890693597335552'><img src='http://si0.twimg.com/images/dev/cms/intents/icons/favorite.png' /> Favorite</a> <a href='http://twitter.com/intent/retweet?tweet_id=90890693597335552'><img src='http://si0.twimg.com/images/dev/cms/intents/icons/retweet.png' /> Retweet</a> <a href='http://twitter.com/intent/tweet?in_reply_to=90890693597335552'><img src='http://si0.twimg.com/images/dev/cms/intents/icons/reply.png' /> Reply</a></span><span class='metadata'><span class='author'><a href='http://twitter.com/brianlmoon'><img src='http://a2.twimg.com/profile_images/1397373043/me_at_velocity_2011_normal.png' /></a><strong><a href='http://twitter.com/brianlmoon'>brianlmoon</a></strong><br/>brianlmoon</span></span></p></div> <!-- end of tweet -->
<!-- http://twitter.com/JeremyKendall/status/90891208993411072 --> <style type='text/css'>.bbpBox90891208993411072 {background:url(http://a1.twimg.com/images/themes/theme9/bg.gif) #1A1B1F;padding:20px;} p.bbpTweet{background:#fff;padding:10px 12px 10px 12px;margin:0;min-height:48px;color:#000;font-size:18px !important;line-height:22px;-moz-border-radius:5px;-webkit-border-radius:5px} p.bbpTweet span.metadata{display:block;width:100%;clear:both;margin-top:8px;padding-top:12px;height:40px;border-top:1px solid #fff;border-top:1px solid #e6e6e6} p.bbpTweet span.metadata span.author{line-height:19px} p.bbpTweet span.metadata span.author img{float:left;margin:0 7px 0 0px;width:38px;height:38px} p.bbpTweet a:hover{text-decoration:underline}p.bbpTweet span.timestamp{font-size:12px;display:block}</style> <div class='bbpBox90891208993411072'><p class='bbpTweet'>@<a class="tweet-url username" href="http://twitter.com/brianlmoon" rel="nofollow">brianlmoon</a> I think that guess is dead on. The evidence so far are reporting scripts - loops w/ queries within loops w/ queries ad nauseam<span class='timestamp'><a title='Tue Jul 12 21:12:07 +0000 2011' href='http://twitter.com/JeremyKendall/status/90891208993411072'>less than a minute ago</a> via <a href="http://www.tweetdeck.com" rel="nofollow">TweetDeck</a> <a href='http://twitter.com/intent/favorite?tweet_id=90891208993411072'><img src='http://si0.twimg.com/images/dev/cms/intents/icons/favorite.png' /> Favorite</a> <a href='http://twitter.com/intent/retweet?tweet_id=90891208993411072'><img src='http://si0.twimg.com/images/dev/cms/intents/icons/retweet.png' /> Retweet</a> <a href='http://twitter.com/intent/tweet?in_reply_to=90891208993411072'><img src='http://si0.twimg.com/images/dev/cms/intents/icons/reply.png' /> Reply</a></span><span class='metadata'><span class='author'><a href='http://twitter.com/JeremyKendall'><img src='http://a1.twimg.com/profile_images/918725958/flat_cap_in_thought_normal.jpg' /></a><strong><a href='http://twitter.com/JeremyKendall'>Jeremy Kendall</a></strong><br/>JeremyKendall</span></span></p></div> <!-- end of tweet -->
<!-- http://twitter.com/brianlmoon/status/90892504102219777 --> <style type='text/css'>.bbpBox90892504102219777 {background:url(http://a0.twimg.com/images/themes/theme1/bg.png) #2E436C;padding:20px;} p.bbpTweet{background:#fff;padding:10px 12px 10px 12px;margin:0;min-height:48px;color:#000;font-size:18px !important;line-height:22px;-moz-border-radius:5px;-webkit-border-radius:5px} p.bbpTweet span.metadata{display:block;width:100%;clear:both;margin-top:8px;padding-top:12px;height:40px;border-top:1px solid #fff;border-top:1px solid #e6e6e6} p.bbpTweet span.metadata span.author{line-height:19px} p.bbpTweet span.metadata span.author img{float:left;margin:0 7px 0 0px;width:38px;height:38px} p.bbpTweet a:hover{text-decoration:underline}p.bbpTweet span.timestamp{font-size:12px;display:block}</style> <div class='bbpBox90892504102219777'><p class='bbpTweet'>@<a class="tweet-url username" href="http://twitter.com/JeremyKendall" rel="nofollow">JeremyKendall</a> Ouch! Yeah, queries loops inside query loops. Just for you. <a href="http://screencast.com/t/hmEdBRXW2sH" rel="nofollow">http://screencast.com/t/hmEdBRXW2sH</a><span class='timestamp'><a title='Tue Jul 12 21:17:16 +0000 2011' href='http://twitter.com/brianlmoon/status/90892504102219777'>less than a minute ago</a> via <a href="http://www.nambu.com/" rel="nofollow">Nambu</a> <a href='http://twitter.com/intent/favorite?tweet_id=90892504102219777'><img src='http://si0.twimg.com/images/dev/cms/intents/icons/favorite.png' /> Favorite</a> <a href='http://twitter.com/intent/retweet?tweet_id=90892504102219777'><img src='http://si0.twimg.com/images/dev/cms/intents/icons/retweet.png' /> Retweet</a> <a href='http://twitter.com/intent/tweet?in_reply_to=90892504102219777'><img src='http://si0.twimg.com/images/dev/cms/intents/icons/reply.png' /> Reply</a></span><span class='metadata'><span class='author'><a href='http://twitter.com/brianlmoon'><img src='http://a2.twimg.com/profile_images/1397373043/me_at_velocity_2011_normal.png' /></a><strong><a href='http://twitter.com/brianlmoon'>brianlmoon</a></strong><br/>brianlmoon</span></span></p></div> <!-- end of tweet -->
